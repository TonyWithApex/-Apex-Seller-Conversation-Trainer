<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Apex Seller Conversation Trainer ‚Äî Apex Method Edition</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0f0f10;
    --panel:#161617;
    --bubble-left:#2a2a2c;
    --bubble-right:#f0e6cf;
    --right-text:#0f0f10;
    --muted:#9aa0a6;
    --gold1:#7c6338; --gold2:#ad9051;
    --accent:linear-gradient(90deg,var(--gold1),var(--gold2));
    --ok:#22c55e; --bad:#ef4444; --mid:#eab308;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 600px at 80% -100%, #2a2314 0%, #0f0f10 50%, #0b0b0c 100%);color:#e9eaee;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  .header{
    display:flex;align-items:center;gap:14px;background:rgba(22,22,23,.7);
    border:1px solid #262628;border-radius:16px;padding:10px 14px;backdrop-filter:blur(8px)
  }
  .logo{width:40px;height:40px;border-radius:10px;object-fit:cover;border:1px solid #2b2b2d;box-shadow:0 0 0 3px rgba(173,144,81,.08)}
  .titles{display:flex;flex-direction:column}
  .title{
    font-weight:800;font-size:16px;
    background:var(--accent);-webkit-background-clip:text;background-clip:text;color:transparent;letter-spacing:.2px
  }
  .subtitle{font-size:12px;color:var(--muted)}
  .gate{
    position:fixed;inset:0;background:
      radial-gradient(1200px 600px at 80% -100%, rgba(173,144,81,.08) 0%, rgba(0,0,0,.9) 50%),
      #000;
    display:flex;align-items:center;justify-content:center;z-index:50
  }
  .gate-card{
    width:min(560px,92vw);background:var(--panel);border:1px solid #2a2a2c;border-radius:16px;padding:28px;box-shadow:0 15px 80px rgba(0,0,0,.6)
  }
  .gate-head{display:flex;align-items:center;gap:12px;margin-bottom:14px}
  .gate-title{font-weight:800}
  .badge{font-size:11px;color:#111;background:var(--accent);padding:4px 8px;border-radius:999px;font-weight:700;margin-left:auto}
  .gate-desc{color:var(--muted);font-size:13px;margin-bottom:16px}
  .gate-row{display:flex;gap:10px}
  .inpt{
    flex:1;padding:12px 14px;border-radius:10px;border:1px solid #2a2a2c;background:#121214;color:#e9eaee;font-size:14px;outline:none
  }
  .btn{
    padding:12px 16px;border-radius:10px;border:0;font-weight:800;cursor:pointer;
    background:var(--accent);color:#111;transition:transform .06s ease,opacity .2s ease
  }
  .btn:active{transform:translateY(1px)}
  .err{color:var(--bad);font-size:12px;margin-top:8px;display:none}

  .hud{
    display:flex;gap:10px;margin:14px 0 20px 0;flex-wrap:wrap
  }
  .chip{
    background:#131315;border:1px solid #242426;padding:8px 12px;border-radius:999px;
    font-size:12px;color:#c7c9ce;display:flex;align-items:center;gap:8px
  }
  .bar{position:relative;width:220px;height:10px;background:#1c1c1f;border-radius:999px;overflow:hidden;border:1px solid #2a2a2c}
  .fill{position:absolute;inset:0;width:40%;background:var(--accent)}
  .mctp{display:flex;gap:8px}
  .dot{width:10px;height:10px;border-radius:50%;background:#3a3a3d;border:1px solid #2a2a2c}
  .dot.on{background:var(--ok);box-shadow:0 0 0 3px rgba(34,197,94,.15)}
  .screen{
    border:1px solid #242426;border-radius:18px;background:#111214;
    display:grid;grid-template-columns:320px 1fr;min-height:70vh;overflow:hidden
  }
  .left{
    border-right:1px solid #242426;padding:18px;background:#0f0f10
  }
  .card{
    background:#151517;border:1px solid #28282a;border-radius:14px;padding:14px;margin-bottom:12px
  }
  .card h3{margin:0 0 6px 0;font-size:13px;color:#cfd1d5}
  .card p{margin:0;color:#9aa0a6;font-size:12px;line-height:1.5}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px}
  .pill{
    background:#1a1a1e;border:1px solid #2b2b2d;border-radius:10px;padding:8px 10px;font-size:12px;color:#cfd1d5
  }

  .chat{
    background:linear-gradient(180deg,#0f0f10 0%,#0b0b0c 100%);
    padding:18px;display:flex;flex-direction:column;gap:10px
  }
  .row{display:flex;gap:10px;align-items:flex-end}
  .row.seller{justify-content:flex-start}
  .row.user{justify-content:flex-end}
  .bubble{
    max-width:min(80%,690px);padding:12px 14px;border-radius:18px;font-size:14px;line-height:1.45;
    border:1px solid transparent;position:relative
  }
  .seller .bubble{
    background:var(--bubble-left);border-color:#333;color:#eaecef;border-bottom-left-radius:6px
  }
  .user .bubble{
    background:var(--bubble-right);color:var(--right-text);
    background-image:var(--accent);color:#0b0b0c;font-weight:600;border:0;border-bottom-right-radius:6px
  }
  .mini{font-size:11px;color:var(--muted);margin:2px 6px}
  .choices{position:sticky;bottom:0;display:grid;gap:8px;margin-top:8px;background:linear-gradient(180deg,rgba(15,15,16,0) 0%, #0f0f10 35%, #0f0f10 100%);padding-top:8px}
  .choice{
    text-align:left;background:#151517;border:1px solid #2a2a2c;color:#e9eaee;padding:10px 12px;border-radius:12px;
    cursor:pointer;transition:all .08s ease;font-size:14px
  }
  .choice:hover{transform:translateY(-1px);border-color:#3a3a3d}
  .choice.good{border-color:rgba(34,197,94,.6);box-shadow:0 0 0 3px rgba(34,197,94,.15) inset}
  .choice.bad{border-color:rgba(239,68,68,.6);box-shadow:0 0 0 3px rgba(239,68,68,.12) inset}
  .toast{
    position:fixed;left:50%;top:18px;transform:translateX(-50%);
    background:#121214;border:1px solid #2b2b2d;padding:10px 14px;border-radius:10px;font-size:13px;z-index:30;display:none
  }
  .summary{display:none}
  .summary .card{background:#131315}
  .hidden{display:none}
  .sep{height:1px;background:#222;margin:10px 0}
  .muted{color:var(--muted)}
</style>
</head>
<body>
  <div class="gate" id="gate">
    <div class="gate-card">
      <div class="gate-head">
        <img src="shark-t.png" alt="Apex" class="logo" />
        <div>
          <div class="gate-title">Apex Seller Conversation Trainer ‚Äî Apex Method Edition</div>
          <div class="gate-desc">Exclusive access ‚Ä¢ Enter password to begin the training chat.</div>
        </div>
        <div class="badge">EXCLUSIVE ACCESS</div>
      </div>
      <div class="sep"></div>
      <p class="gate-desc">This trainer simulates real seller texting. Your job: keep <b>Trust</b> high, collect <b>MCTP</b> (Motivation, Condition, Timeline, Price), and respond using the <b>Apex Method</b> (safety first, no pressure, clarity, integrity).</p>
      <div class="gate-row">
        <input id="pw" class="inpt" placeholder="Password" autocomplete="current-password">
        <button class="btn" id="enterBtn">Enter</button>
      </div>
      <div class="err" id="pwErr">Incorrect password.</div>
      <div class="muted" style="margin-top:10px;font-size:12px">Hint: Provided by instructor.</div>
    </div>
  </div>

  <div class="wrap">
    <div class="header">
      <img src="shark-t.png" alt="Apex" class="logo"/>
      <div class="titles">
        <div class="title">Apex Seller Conversation Trainer ‚Äî Apex Method Edition</div>
        <div class="subtitle">Live practice ‚Ä¢ iMessage-style ‚Ä¢ MCTP guided</div>
      </div>
    </div>

    <div class="hud">
      <div class="chip"><strong>Trust</strong>
        <div class="bar"><div id="trustFill" class="fill" style="width:60%"></div></div>
        <span id="trustVal">60</span>
      </div>
      <div class="chip"><strong>Persona:</strong> <span id="personaName">‚Äî</span></div>
      <div class="chip"><strong>Stage:</strong> <span id="stageName">Intro</span></div>
      <div class="chip">
        <strong>MCTP</strong>
        <div class="mctp" style="margin-left:8px">
          <div id="dotM" class="dot" title="Motivation"></div>
          <div id="dotC" class="dot" title="Condition"></div>
          <div id="dotT" class="dot" title="Timeline"></div>
          <div id="dotP" class="dot" title="Price"></div>
        </div>
      </div>
    </div>

    <div class="screen">
      <aside class="left">
        <div class="card">
          <h3>Apex Method‚ÄîQuick Reminders</h3>
          <div class="grid2">
            <div class="pill">üõ°Ô∏è Create Safety</div>
            <div class="pill">üéØ Moral Duty</div>
            <div class="pill">üí¨ Conviction via Questions</div>
            <div class="pill">‚ùå Avoid Harm / Pressure</div>
          </div>
          <p style="margin-top:10px">Use permission-based language, set expectations early, handle objections with empathy, and guide with clarity. Your goal is a <b>safe yes</b> or a <b>confident no</b>.</p>
        </div>
        <div class="card">
          <h3>Seller Types (randomized)</h3>
          <p id="personaDesc" class="muted">‚Äî</p>
        </div>
        <div class="card">
          <h3>Win Condition</h3>
          <p>End with Trust ‚â• 65 and at least 3/4 MCTP captured.</p>
        </div>
      </aside>

      <main class="chat">
        <div id="thread"></div>
        <div id="choices" class="choices"></div>

        <section class="summary" id="summary">
          <div class="card">
            <h3>Session Summary</h3>
            <p id="sumLine"></p>
          </div>
          <div class="card" id="sumMCTP"></div>
          <div class="card">
            <button class="btn" id="restartBtn">Restart</button>
          </div>
        </section>
      </main>
    </div>
  </div>

  <div class="toast" id="toast"></div>

<script>
/* ========= Password Gate ========= */
const PASS = "SellerConvo2025";
const gate = document.getElementById('gate');
const pwIn = document.getElementById('pw');
const pwErr = document.getElementById('pwErr');
document.getElementById('enterBtn').onclick = () => {
  if (pwIn.value.trim() === PASS) {
    gate.style.display = 'none';
    startGame();
  } else { pwErr.style.display='block'; setTimeout(()=>pwErr.style.display='none',1800); }
};
pwIn.addEventListener('keydown', e => { if(e.key==='Enter') document.getElementById('enterBtn').click(); });

/* ========= State ========= */
const state = {
  trust: 60,
  mctp: {M:false,C:false,T:false,P:false},
  stageIndex: 0,
  persona: null,
  lockInput: true,
  ended:false,
};

const personas = [
  { id:'skeptical', name:'Skeptical', desc:'Cautious; needs credibility + permission.', trustStart:55 },
  { id:'emotional', name:'Emotional', desc:'Attached; needs empathy & safety.', trustStart:60 },
  { id:'rushed', name:'Rushed', desc:'Time-sensitive; values speed & clarity.', trustStart:58 },
  { id:'analytical', name:'Analytical', desc:'Data-driven; wants numbers & logic.', trustStart:62 },
  { id:'motivated', name:'Motivated', desc:'Ready if path feels safe & fair.', trustStart:65 },
];

const stages = [
  // 0 INTRO / SAFETY
  {
    name:'Intro',
    seller:[
      "Hey‚Äîwho is this? I‚Äôve had a lot of random buyers texting.",
      "Hi. Not sure I want to deal with investors right now.",
      "Okay‚Ä¶ you buy houses? What‚Äôs the catch?"
    ],
    choices:(p)=>[
      ok("Totally fair. You‚Äôre 100% free to say no if this isn‚Äôt a fit. My job is to be upfront and help only if we‚Äôre right for you.", +8, 'safety'),
      meh("I‚Äôm legit, we close fast. Can we talk numbers?", -6),
      bad("No catch. If you want an offer, you‚Äôll need to cooperate.", -12)
    ]
  },
  // 1 EXPECTATIONS
  {
    name:'Expectations',
    seller:[
      "Alright. If you‚Äôre cash, is your price going to be low?",
      "So what‚Äôs different about you vs listing with an agent?"
    ],
    choices:(p)=>[
      ok("Good q. Cash is lower than list price because you skip repairs, showings, and delays. It‚Äôs about ease and certainty. If that tradeoff doesn‚Äôt help you, I‚Äôll tell you upfront.", +7, 'anchor'),
      meh("Depends on the house. I need a discount obviously.", -6),
      bad("If you want top dollar, list it. I‚Äôm not paying that.", -12)
    ]
  },
  // 2 OBJECTION (dynamic)
  {
    name:'Objection',
    seller:[
      "I need to think about it.",
      "Another buyer said they might pay more.",
      "I don‚Äôt want to be pressured into something I‚Äôll regret."
    ],
    choices:(p)=>[
      ok("Totally reasonable. Most sellers feel that way. You‚Äôre always free to pass. Want me to lay out both paths‚Äîcash vs list‚Äîso you can decide calmly?", +8, 'objection'),
      meh("If you wait too long the deal could be gone.", -8),
      bad("No need to think‚Äîthis is your best shot.", -14)
    ]
  },
  // 3 M‚ÄîMotivation
  {
    name:'Motivation',
    seller:[
      "Well‚Ä¶ I‚Äôm just considering options right now.",
      "We might sell, just not sure if it‚Äôs worth the hassle."
    ],
    choices:(p)=>[
      ok("What‚Äôs most important for you‚Äîspeed, price, or making this as easy as possible?", +6, 'M'),
      ok("When did selling first come up? What changed recently?", +6, 'M'),
      meh("So do you actually want to sell or not?", -8)
    ]
  },
  // 4 C‚ÄîCondition
  {
    name:'Condition',
    seller:[
      "The house is okay. Needs some things.",
      "There are a few repairs I don‚Äôt want to deal with."
    ],
    choices:(p)=>[
      ok("Got it. Any major items like roof, HVAC, or foundation we should factor in, so you‚Äôre not surprised later?", +5, 'C'),
      ok("If you did nothing, what would a buyer need to fix in the first 6 months?", +5, 'C'),
      meh("Just send me a list of everything broken.", -7)
    ]
  },
  // 5 T‚ÄîTimeline
  {
    name:'Timeline',
    seller:[
      "Timing depends on where I‚Äôm moving.",
      "Soon would be nice, but I‚Äôm flexible."
    ],
    choices:(p)=>[
      ok("What‚Äôs your ideal target‚Äîare you thinking weeks or months? I‚Äôll match the plan to your pace.", +5, 'T'),
      ok("Is there a date you‚Äôd love to be done by, even if it‚Äôs not firm yet?", +5, 'T'),
      meh("We close in 7 days. That work?", -6)
    ]
  },
  // 6 P‚ÄîPrice
  {
    name:'Price',
    seller:[
      "I mean‚Ä¶ I‚Äôd love to get top dollar like the neighbors.",
      "What range are we talking about here?"
    ],
    choices:(p)=>[
      ok("Just to set expectations, investors in the area have paid in a certain range depending on condition. After I see your details, I‚Äôll show a transparent breakdown so you stay in control.", +6, 'P'),
      meh("Give me your rock-bottom number.", -8),
      bad("If you want retail, I‚Äôm out.", -12)
    ]
  },
  // 7 CLOSE
  {
    name:'Next Steps',
    seller:[
      "Okay‚Ä¶ so what‚Äôs the next step?",
      "If we explored this, what would it look like?"
    ],
    choices:(p)=>[
      ok("Zero-pressure path: I‚Äôll send a clear side-by-side (cash vs list) and a draft offer you can review. If it helps, we book a quick walkthrough‚Äîstill your call.", +7, 'close'),
      meh("Let‚Äôs sign today and I‚Äôll figure the rest.", -10),
      bad("You ready to commit or not?", -14)
    ]
  }
];

function ok(text, delta, tag){ return {text, delta, tag, quality:'good'} }
function meh(text, delta){ return {text, delta, quality:'meh'} }
function bad(text, delta){ return {text, delta, quality:'bad'} }

const thread = document.getElementById('thread');
const choicesBox = document.getElementById('choices');
const trustFill = document.getElementById('trustFill');
const trustVal = document.getElementById('trustVal');
const personaName = document.getElementById('personaName');
const personaDesc = document.getElementById('personaDesc');
const stageName = document.getElementById('stageName');
const toast = document.getElementById('toast');

const dotM = document.getElementById('dotM');
const dotC = document.getElementById('dotC');
const dotT = document.getElementById('dotT');
const dotP = document.getElementById('dotP');

const sumBox = document.getElementById('summary');
const sumLine = document.getElementById('sumLine');
const sumMCTP = document.getElementById('sumMCTP');
document.getElementById('restartBtn').onclick = ()=>{ location.reload(); };

function startGame(){
  state.persona = personas[Math.floor(Math.random()*personas.length)];
  state.trust = state.persona.trustStart;
  personaName.textContent = state.persona.name;
  personaDesc.textContent = state.persona.desc;
  updateHud();
  autoSellerLine();
}

function updateHud(){
  const pct = Math.max(0, Math.min(100, state.trust));
  trustFill.style.width = pct+'%';
  trustVal.textContent = Math.round(pct);
  stageName.textContent = stages[state.stageIndex]?.name ?? '‚Äî';
  dotM.classList.toggle('on', state.mctp.M);
  dotC.classList.toggle('on', state.mctp.C);
  dotT.classList.toggle('on', state.mctp.T);
  dotP.classList.toggle('on', state.mctp.P);
}

function say(role, text){
  const row = document.createElement('div');
  row.className = 'row '+(role==='seller'?'seller':'user');
  const b = document.createElement('div');
  b.className = 'bubble';
  b.textContent = text;
  row.appendChild(b);
  thread.appendChild(row);
  thread.scrollTop = thread.scrollHeight;
}

function sellerPrompt(index){
  const s = stages[index];
  const line = s.seller[Math.floor(Math.random()*s.seller.length)];
  say('seller', line);
}

function showChoices(){
  const s = stages[state.stageIndex];
  const opts = s.choices(state.persona);
  choicesBox.innerHTML = '';
  opts.forEach((o,i)=>{
    const btn = document.createElement('button');
    btn.className='choice';
    btn.textContent = o.text;
    btn.onclick = ()=>choose(o);
    choicesBox.appendChild(btn);
  });
}

function choose(opt){
  if(state.lockInput || state.ended) return;
  state.lockInput = true;
  // render my message
  say('user', opt.text);
  // feedback
  if(opt.quality==='good'){ flash("‚úÖ Nice. Safety & clarity.", 'good'); }
  else if(opt.quality==='meh'){ flash("‚ö†Ô∏è Could be safer / clearer.", 'mid'); }
  else { flash("‚ùå That creates pressure or risk.", 'bad'); }

  // trust change
  state.trust += opt.delta;
  if(opt.tag==='M') state.mctp.M = true;
  if(opt.tag==='C') state.mctp.C = true;
  if(opt.tag==='T') state.mctp.T = true;
  if(opt.tag==='P') state.mctp.P = true;

  updateHud();

  if(state.trust <= 30){
    fail("Trust dropped too low. Seller disengaged.");
    return;
  }

  // advance to next stage
  state.stageIndex++;
  if(state.stageIndex >= stages.length){
    finish();
    return;
  }
  setTimeout(autoSellerLine, 600);
}

function autoSellerLine(){
  if(state.ended) return;
  // auto-sequence seller line, then show choices
  state.lockInput = true;
  updateHud();
  setTimeout(()=>{
    sellerPrompt(state.stageIndex);
    setTimeout(()=>{ state.lockInput = false; showChoices(); }, 500);
  }, 350);
}

function flash(msg, type){
  toast.textContent = msg;
  toast.style.display='block';
  toast.style.borderColor = type==='good' ? 'rgba(34,197,94,.4)'
                     : type==='bad' ? 'rgba(239,68,68,.5)'
                     : 'rgba(234,179,8,.5)';
  setTimeout(()=>toast.style.display='none', 1200);
}

function fail(reason){
  state.ended = true;
  choicesBox.innerHTML = '';
  say('seller', "I think I‚Äôll pass for now. Thanks.");
  setTimeout(()=>summary(false, reason), 600);
}

function finish(){
  state.ended = true;
  choicesBox.innerHTML = '';
  say('seller', "Okay, send what you mentioned and we‚Äôll review.");
  setTimeout(()=>summary(true), 600);
}

function summary(won, reason){
  const mCount = Object.values(state.mctp).filter(Boolean).length;
  const win = (state.trust>=65 && mCount>=3);
  const outcome = won && win;
  sumBox.style.display='block';
  const line = outcome
    ? `üü¢ Win! Trust ${Math.round(state.trust)} ‚Ä¢ MCTP ${mCount}/4 ‚Ä¢ You guided safely using the Apex Method.`
    : `üî¥ Incomplete. Trust ${Math.round(state.trust)} ‚Ä¢ MCTP ${mCount}/4${reason?` ‚Ä¢ ${reason}`:''}`;
  sumLine.textContent = line;
  const parts = [
    `Motivation: ${state.mctp.M?'‚úì':'‚Äî'}`,
    `Condition: ${state.mctp.C?'‚úì':'‚Äî'}`,
    `Timeline: ${state.mctp.T?'‚úì':'‚Äî'}`,
    `Price: ${state.mctp.P?'‚úì':'‚Äî'}`
  ];
  sumMCTP.innerHTML = `<h3>MCTP Capture</h3><p>${parts.join(' ‚Ä¢ ')}</p>`;
  updateHud();
}
</script>
</body>
</html>
